# NOTE  May be possible to test multiple languages:
#       
#       https://stackoverflow.com/questions/27644586/how-to-set-up-travis-ci-with-multiple-languages
#       
#       Though seems like that runs them in different instances.
# 

# disable the default submodule logic
# See https://gist.github.com/iedemam/9830045
git:
  submodules: false

python: 2.7.13

before_install:
  # DEBUG   Dump Python exe paths and versions
  - which python
  - python -V
  - which pip
  - pip -V
  # - which python2.7
  # - python2.7 -V
  # - which pip2.7
  # - pip 2.7 -V
  
  # Install Ansible
  - pip install ansible==2.4.1.0
  
  # Use sed to replace the SSH URL with the public URL, then init and update
  # submodules
  - sed -i 's/git@github.com:/git:\/\/github.com\//' .gitmodules
  - git submodule update --init --recursive
  
  # Install `//package.json` to get `semver`
  - yarn
  
  # Install gem
  - gem update --system
  - gem install bundler
        
language: ruby

rvm:
  - 2.3.6
  - 2.4.3
  - 2.5.0

script: bundle exec rspec

sudo: false

cache: bundler
